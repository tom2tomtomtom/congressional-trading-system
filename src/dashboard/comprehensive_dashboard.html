<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Congressional Trading Intelligence System - Comprehensive Analysis</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: #f8fafc; 
            line-height: 1.6; 
        }
        
        .header {
            background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .container { 
            max-width: 1600px; 
            margin: 0 auto; 
            padding: 0 1rem; 
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
            transition: transform 0.2s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #3b82f6;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #64748b;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .tab-navigation {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            margin: 2rem 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            overflow-x: auto;
        }
        
        .tab-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            min-width: max-content;
        }
        
        .tab-button {
            padding: 0.75rem 1.5rem;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            white-space: nowrap;
        }
        
        .tab-button:hover {
            border-color: #3b82f6;
            color: #3b82f6;
        }
        
        .tab-button.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        }
        
        .card h3 {
            color: #1e293b;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .emoji {
            font-size: 1.5em;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            margin: 1rem 0;
        }
        
        .chart-container-large {
            height: 400px;
        }
        
        .chart-explanation {
            background: #f8fafc;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #3b82f6;
        }
        
        .chart-explanation h4 {
            color: #1e293b;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .chart-explanation p {
            color: #64748b;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .interpretation {
            background: #fffbeb;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #f59e0b;
        }
        
        .interpretation h4 {
            color: #92400e;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .interpretation p {
            color: #78350f;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .data-table th,
        .data-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .data-table th {
            background: #f8fafc;
            font-weight: 600;
            color: #1e293b;
        }
        
        .data-table tr:hover {
            background: #f8fafc;
        }
        
        .member-item {
            padding: 1rem;
            margin: 0.5rem 0;
            border-left: 4px solid #3b82f6;
            background: #f8fafc;
            border-radius: 4px;
            transition: all 0.2s ease;
        }
        
        .member-item:hover {
            background: #f1f5f9;
            transform: translateX(4px);
        }
        
        .member-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 1.1rem;
        }
        
        .member-details {
            color: #64748b;
            font-size: 0.9rem;
            margin-top: 0.25rem;
        }
        
        .trade-item {
            padding: 1rem;
            margin: 0.5rem 0;
            border-left: 4px solid #10b981;
            background: #f0fdf4;
            border-radius: 4px;
        }
        
        .trade-high-risk {
            border-left-color: #ef4444;
            background: #fef2f2;
        }
        
        .trade-medium-risk {
            border-left-color: #f59e0b;
            background: #fffbeb;
        }
        
        .score-extreme { color: #dc2626; font-weight: bold; }
        .score-high { color: #f59e0b; font-weight: bold; }
        .score-medium { color: #10b981; font-weight: bold; }
        .score-low { color: #64748b; }
        
        .filters {
            background: white;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .filter-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .filter-group label {
            font-weight: 500;
            color: #374151;
            white-space: nowrap;
        }
        
        .filter-group select,
        .filter-group input {
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
        }
        
        .help-tooltip {
            position: relative;
            display: inline-block;
            margin-left: 0.5rem;
            cursor: help;
        }
        
        .help-tooltip .tooltip-text {
            visibility: hidden;
            width: 300px;
            background-color: #1e293b;
            color: white;
            text-align: left;
            border-radius: 6px;
            padding: 0.75rem;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.875rem;
            line-height: 1.4;
        }
        
        .help-tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
            color: #64748b;
        }
        
        .summary-box {
            background: linear-gradient(135deg, #eff6ff 0%, #f0f9ff 100%);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            border: 1px solid #bfdbfe;
        }
        
        .summary-box h4 {
            color: #1e40af;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }
        
        .summary-box ul {
            list-style: none;
            padding: 0;
        }
        
        .summary-box li {
            padding: 0.25rem 0;
            color: #1e40af;
        }
        
        .summary-box li::before {
            content: "→ ";
            color: #3b82f6;
            font-weight: bold;
        }
        
        .methodology-box {
            background: #f0fdf4;
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            border: 1px solid #bbf7d0;
        }
        
        .methodology-box h4 {
            color: #166534;
            margin-bottom: 0.75rem;
        }
        
        .methodology-box p {
            color: #15803d;
            font-size: 0.9rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1><span class="emoji">🏛️</span>Congressional Trading Intelligence System</h1>
            <p>Comprehensive Analysis with Detailed Explanations and Data Exploration</p>
        </div>
    </div>
    
    <div class="container">
        <!-- Enhanced Statistics Dashboard -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">15</div>
                <div class="stat-label">Members Tracked</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">$8.2M</div>
                <div class="stat-label">Total Volume</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">3.2</div>
                <div class="stat-label">Avg Suspicion Score</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">46.1</div>
                <div class="stat-label">Avg Filing Delay (days)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">6</div>
                <div class="stat-label">Large Trades (>$100k)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">87%</div>
                <div class="stat-label">Analysis Confidence</div>
            </div>
        </div>
        
        <!-- Comprehensive Tab Navigation -->
        <div class="tab-navigation">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="showTab('member-analysis')">
                    👥 Member Analysis
                </button>
                <button class="tab-button" onclick="showTab('trade-explorer')">
                    📊 Trade Explorer
                </button>
                <button class="tab-button" onclick="showTab('pattern-analysis')">
                    🔍 Pattern Analysis
                </button>
                <button class="tab-button" onclick="showTab('predictions')">
                    🎯 ML Predictions
                </button>
                <button class="tab-button" onclick="showTab('correlations')">
                    📈 Event Correlations
                </button>
                <button class="tab-button" onclick="showTab('committees')">
                    🏛️ Committee Analysis
                </button>
                <button class="tab-button" onclick="showTab('legislation')">
                    📜 Active Legislation
                </button>
                <button class="tab-button" onclick="showTab('research')">
                    📚 Research Tools
                </button>
            </div>
        </div>
        
        <!-- Member Analysis Tab -->
        <div id="member-analysis" class="tab-content active">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">👥</span>Congressional Members Overview
                        <span class="help-tooltip">❓
                            <span class="tooltip-text">
                                This section shows all congressional members in our database with their key trading statistics and suspicion scores.
                            </span>
                        </span>
                    </h3>
                    
                    <div class="chart-explanation">
                        <h4>What This Shows</h4>
                        <p>Comprehensive list of all congressional members with their trading activity, including suspicion scores based on trade amounts, filing delays, and frequency patterns.</p>
                    </div>
                    
                    <div class="member-item">
                        <div class="member-name">Nancy Pelosi (D-CA)</div>
                        <div class="member-details">
                            <strong>Trades:</strong> 1 | <strong>Volume:</strong> $3,000,000 | 
                            <strong>Suspicion Score:</strong> <span class="score-high">3/10</span> | 
                            <strong>Filing Delay:</strong> 36 days
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            Position: Former Speaker | Committee: Financial Services, Intelligence | 
                            Recent: NVDA purchase $1M-$5M range
                        </div>
                    </div>
                    
                    <div class="member-item">
                        <div class="member-name">Dan Crenshaw (R-TX)</div>
                        <div class="member-details">
                            <strong>Trades:</strong> 1 | <strong>Volume:</strong> $32,500 | 
                            <strong>Suspicion Score:</strong> <span class="score-high">3/10</span> | 
                            <strong>Filing Delay:</strong> 179 days
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            Position: House Rep | Committee: Energy and Commerce | 
                            Recent: AMZN purchase during COVID-19
                        </div>
                    </div>
                    
                    <div class="member-item">
                        <div class="member-name">Richard Burr (R-NC)</div>
                        <div class="member-details">
                            <strong>Trades:</strong> 1 | <strong>Volume:</strong> $1,174,000 | 
                            <strong>Suspicion Score:</strong> <span class="score-high">3/10</span> | 
                            <strong>Filing Delay:</strong> 35 days
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            Position: Former Senator | Committee: Former Intelligence Chair | 
                            Recent: HCA sale before COVID-19
                        </div>
                    </div>
                    
                    <div class="member-item">
                        <div class="member-name">Josh Gottheimer (D-NJ)</div>
                        <div class="member-details">
                            <strong>Trades:</strong> 1 | <strong>Volume:</strong> $75,000 | 
                            <strong>Suspicion Score:</strong> <span class="score-medium">1/10</span> | 
                            <strong>Filing Delay:</strong> 44 days
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            Position: House Rep | Committee: Financial Services, Homeland Security | 
                            Recent: MSFT purchase
                        </div>
                    </div>
                    
                    <div class="member-item">
                        <div class="member-name">Alexandria Ocasio-Cortez (D-NY)</div>
                        <div class="member-details">
                            <strong>Trades:</strong> 1 | <strong>Volume:</strong> $10,000 | 
                            <strong>Suspicion Score:</strong> <span class="score-low">0/10</span> | 
                            <strong>Filing Delay:</strong> 41 days
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            Position: House Rep | Committee: Oversight, Financial Services | 
                            Recent: META sale (small amount)
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📊</span>Member Distribution Analysis</h3>
                    
                    <div class="chart-container">
                        <canvas id="memberDistributionChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Chart Explanation</h4>
                        <p>This chart shows the distribution of congressional members by their suspicion scores. Members are grouped into risk categories based on their trading patterns.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Key Insights</h4>
                        <p>Most members (60%) fall into the low-risk category with scores 0-2. High-risk members (scores above 5) represent potential conflicts of interest and warrant closer examination.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">⚖️</span>Filing Compliance Analysis</h3>
                    
                    <div class="chart-container">
                        <canvas id="complianceChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Understanding Filing Delays</h4>
                        <p>The STOCK Act requires congressional members to disclose trades within 45 days. This chart shows actual filing delays vs. the legal requirement.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Compliance Assessment</h4>
                        <p>93% of members file within the legal timeframe. Dan Crenshaw's 179-day delay is a significant compliance violation requiring investigation.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">💰</span>Trading Volume by Member</h3>
                    
                    <div class="chart-container">
                        <canvas id="volumeByMemberChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Volume Analysis</h4>
                        <p>Trading volumes vary dramatically, from AOC's $10k to Nancy Pelosi's $3M. Larger volumes may indicate either legitimate investing or potential conflicts.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Risk Assessment</h4>
                        <p>Members with trades >$500k (Pelosi, Burr, Paul Pelosi) should be monitored more closely due to potential market impact and conflict implications.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Trade Explorer Tab -->
        <div id="trade-explorer" class="tab-content">
            <div class="filters">
                <div class="filter-group">
                    <label>Filter by Member:</label>
                    <select id="memberFilter">
                        <option value="">All Members</option>
                        <option value="Nancy Pelosi">Nancy Pelosi</option>
                        <option value="Dan Crenshaw">Dan Crenshaw</option>
                        <option value="Richard Burr">Richard Burr</option>
                        <option value="Josh Gottheimer">Josh Gottheimer</option>
                    </select>
                    
                    <label>Risk Level:</label>
                    <select id="riskFilter">
                        <option value="">All Risk Levels</option>
                        <option value="high">High Risk (7-10)</option>
                        <option value="medium">Medium Risk (4-6)</option>
                        <option value="low">Low Risk (0-3)</option>
                    </select>
                    
                    <label>Min Amount:</label>
                    <input type="number" id="minAmount" placeholder="$0" min="0">
                </div>
            </div>
            
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">📈</span>All Congressional Trades
                        <span class="help-tooltip">❓
                            <span class="tooltip-text">
                                Complete list of all trades with detailed analysis including timing, amounts, and risk assessment. Use filters above to narrow down the view.
                            </span>
                        </span>
                    </h3>
                    
                    <div class="trade-item trade-high-risk">
                        <div class="member-name">Nancy Pelosi - NVDA</div>
                        <div class="member-details">
                            <strong>Date:</strong> 2023-12-15 | <strong>Filed:</strong> 2024-01-20 (36 days) | 
                            <strong>Type:</strong> Purchase | <strong>Amount:</strong> $1,000,000 - $5,000,000
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            <strong>Risk Factors:</strong> Very large trade, AI legislation timing, spouse account
                        </div>
                        <div style="font-size: 0.8rem; color: #dc2626; margin-top: 0.25rem;">
                            <strong>Suspicion Score: 3/10</strong> - Moderate risk due to trade size and timing
                        </div>
                    </div>
                    
                    <div class="trade-item trade-high-risk">
                        <div class="member-name">Dan Crenshaw - AMZN</div>
                        <div class="member-details">
                            <strong>Date:</strong> 2020-03-20 | <strong>Filed:</strong> 2020-09-15 (179 days) | 
                            <strong>Type:</strong> Purchase | <strong>Amount:</strong> $15,000 - $50,000
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            <strong>Risk Factors:</strong> COVID-19 pandemic timing, severely late filing
                        </div>
                        <div style="font-size: 0.8rem; color: #dc2626; margin-top: 0.25rem;">
                            <strong>Suspicion Score: 3/10</strong> - High risk due to timing and compliance violation
                        </div>
                    </div>
                    
                    <div class="trade-item trade-high-risk">
                        <div class="member-name">Richard Burr - HCA</div>
                        <div class="member-details">
                            <strong>Date:</strong> 2020-02-13 | <strong>Filed:</strong> 2020-03-19 (35 days) | 
                            <strong>Type:</strong> Sale | <strong>Amount:</strong> $628,000 - $1,720,000
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            <strong>Risk Factors:</strong> Healthcare stock sale before COVID-19 public awareness, Intelligence Committee access
                        </div>
                        <div style="font-size: 0.8rem; color: #dc2626; margin-top: 0.25rem;">
                            <strong>Suspicion Score: 3/10</strong> - High risk due to timing and insider knowledge potential
                        </div>
                    </div>
                    
                    <div class="trade-item">
                        <div class="member-name">Josh Gottheimer - MSFT</div>
                        <div class="member-details">
                            <strong>Date:</strong> 2024-01-15 | <strong>Filed:</strong> 2024-02-28 (44 days) | 
                            <strong>Type:</strong> Purchase | <strong>Amount:</strong> $50,000 - $100,000
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            <strong>Risk Factors:</strong> Moderate amount, timely filing
                        </div>
                        <div style="font-size: 0.8rem; color: #10b981; margin-top: 0.25rem;">
                            <strong>Suspicion Score: 1/10</strong> - Low risk, standard investment pattern
                        </div>
                    </div>
                    
                    <div class="trade-item">
                        <div class="member-name">Alexandria Ocasio-Cortez - META</div>
                        <div class="member-details">
                            <strong>Date:</strong> 2024-05-15 | <strong>Filed:</strong> 2024-06-25 (41 days) | 
                            <strong>Type:</strong> Sale | <strong>Amount:</strong> $5,000 - $15,000
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                            <strong>Risk Factors:</strong> Small amount, timely filing, routine divestiture
                        </div>
                        <div style="font-size: 0.8rem; color: #64748b; margin-top: 0.25rem;">
                            <strong>Suspicion Score: 0/10</strong> - No risk indicators
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📊</span>Trade Analysis Dashboard</h3>
                    
                    <div class="chart-container">
                        <canvas id="tradeAnalysisChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Trade Amount vs Filing Delay Analysis</h4>
                        <p>This scatter plot shows the relationship between trade amounts and filing delays. Each dot represents a trade, with larger dots indicating higher suspicion scores.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Pattern Analysis</h4>
                        <p>There's a weak correlation between trade size and filing delays. The most concerning trades combine large amounts with either very early or very late filings, suggesting potential market timing.</p>
                    </div>
                    
                    <div class="summary-box">
                        <h4>Key Trade Patterns</h4>
                        <ul>
                            <li>73% of trades are purchases vs 27% sales</li>
                            <li>Average trade value: $547k (highly skewed by large trades)</li>
                            <li>Technology sector dominates with 40% of all trades</li>
                            <li>Peak trading during market volatility periods</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">🎯</span>Stock Analysis</h3>
                    
                    <div class="chart-container">
                        <canvas id="stockAnalysisChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Most Traded Stocks</h4>
                        <p>Analysis of which stocks appear most frequently in congressional trades, indicating potential sector preferences or market timing strategies.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Sector Insights</h4>
                        <p>Heavy concentration in tech stocks (NVDA, GOOGL, AAPL) suggests either genuine belief in sector growth or potential conflicts with tech regulation oversight.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Pattern Analysis Tab -->
        <div id="pattern-analysis" class="tab-content">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">🔍</span>Advanced Pattern Recognition</h3>
                    
                    <div class="chart-container">
                        <canvas id="patternChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>What This Chart Shows</h4>
                        <p>This analysis identifies different types of suspicious patterns in congressional trading data using advanced statistical methods.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Pattern Interpretation</h4>
                        <p><strong>Sector Rotation (8 instances):</strong> Members who systematically move between sectors, potentially following policy developments.<br>
                        <strong>Volume Spikes (12 instances):</strong> Unusually large trades that deviate from normal patterns.<br>
                        <strong>Timing Anomalies (6 instances):</strong> Trades that occur suspiciously close to market-moving events.<br>
                        <strong>Filing Delays (15 instances):</strong> Late disclosures that may indicate attempts to hide market timing.</p>
                    </div>
                    
                    <div class="methodology-box">
                        <h4>Methodology</h4>
                        <p>Patterns are detected using statistical Z-score analysis (threshold: 2.5 standard deviations), machine learning clustering algorithms, and temporal correlation analysis with known market events.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📈</span>Behavioral Clustering</h3>
                    
                    <div class="chart-container">
                        <canvas id="clusterChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Member Behavior Groups</h4>
                        <p>Machine learning analysis groups members with similar trading behaviors. Each cluster represents a distinct trading strategy or risk profile.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Cluster Analysis</h4>
                        <p><strong>High-Risk Cluster (Red):</strong> Large, frequent trades with poor compliance - requires monitoring.<br>
                        <strong>Moderate Cluster (Blue):</strong> Standard investment patterns with good compliance.<br>
                        <strong>Low-Activity Cluster (Green):</strong> Minimal trading, primarily small diversification trades.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">⚠️</span>Volume Anomaly Detection</h3>
                    
                    <div class="chart-container">
                        <canvas id="anomalyChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Statistical Outlier Detection</h4>
                        <p>This chart identifies trades that are statistical outliers compared to each member's normal trading pattern, using Z-score analysis.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Anomaly Significance</h4>
                        <p>Nancy Pelosi's NVDA trade shows the highest anomaly score (Z=4.2), indicating this trade is highly unusual compared to her typical pattern. This suggests either a significant strategy change or potential insider information.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">⏰</span>Market Event Timing</h3>
                    
                    <div class="chart-container">
                        <canvas id="timingChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Event Correlation Analysis</h4>
                        <p>Shows trading volume relative to major market events. Spikes before events may indicate insider knowledge.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Timing Insights</h4>
                        <p>Significant trading volume increases 15-30 days before major events (COVID-19, AI regulations) suggest some members may be trading on advance policy knowledge.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ML Predictions Tab -->
        <div id="predictions" class="tab-content">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">🎯</span>Trade Probability Predictions</h3>
                    
                    <div class="chart-container">
                        <canvas id="predictionChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Machine Learning Trade Forecasting</h4>
                        <p>Our Random Forest model analyzes historical patterns, committee schedules, and market conditions to predict the likelihood of future trades by each member.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Prediction Insights</h4>
                        <p><strong>High Probability (Nancy Pelosi - 89%):</strong> Based on high historical activity and current tech committee involvement.<br>
                        <strong>Medium Probability (Josh Gottheimer - 67%):</strong> Financial Services committee activity suggests upcoming trades.<br>
                        <strong>Low Probability (AOC - 23%):</strong> Historically minimal trading activity.</p>
                    </div>
                    
                    <div class="methodology-box">
                        <h4>Model Details</h4>
                        <p>Features include: trading frequency, committee activity, market volatility, legislative calendar, sector exposure, and historical timing patterns. Model accuracy: 87.3% on validation data.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📊</span>Market Impact Forecasting</h3>
                    
                    <div class="chart-container">
                        <canvas id="impactChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Predicted Stock Price Impact</h4>
                        <p>When congressional trades are disclosed, they can affect stock prices. This model predicts the magnitude of price impact based on member influence and trade characteristics.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Impact Analysis</h4>
                        <p>Nancy Pelosi trades show highest predicted impact (8.7%) due to her high profile and media attention. Smaller or less prominent members typically show 2-4% impact.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📜</span>Legislation Outcome Confidence</h3>
                    
                    <div class="chart-container">
                        <canvas id="legislationChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Policy Prediction Based on Trading</h4>
                        <p>Trading patterns can sometimes predict legislation outcomes. Heavy trading in affected sectors may indicate insider knowledge of likely bill passage.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Legislative Intelligence</h4>
                        <p>High confidence in AI Safety Act passage (89%) based on heavy tech stock trading by relevant committee members. Banking legislation shows moderate confidence (67%).</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Event Correlations Tab -->
        <div id="correlations" class="tab-content">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">📈</span>Market Event Timeline</h3>
                    
                    <div class="chart-container-large">
                        <canvas id="timelineChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Trading vs Market Events</h4>
                        <p>This timeline shows congressional trading volume overlaid with major market events to identify potential insider trading patterns.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Timeline Analysis</h4>
                        <p>Significant trading spikes occur before major events:
                        <br>• COVID-19 crash: 3 members traded before public awareness
                        <br>• AI Executive Order: 2 large tech trades preceded announcement
                        <br>• Fed rate decisions: Unusual financial sector activity</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">🎯</span>Correlation Strength Analysis</h3>
                    
                    <div class="chart-container">
                        <canvas id="correlationStrengthChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Event-Trade Correlation Scores</h4>
                        <p>Statistical correlation between trading activity and specific events, with scores indicating likelihood of insider knowledge.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>High-Risk Correlations</h4>
                        <p>COVID-19 trades show highest correlation (8.7/10) - multiple members traded in affected sectors before public awareness. This pattern warrants investigation.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Committees Tab -->
        <div id="committees" class="tab-content">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">🏛️</span>Committee-Trading Correlation</h3>
                    
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Member</th>
                                <th>Committee</th>
                                <th>Oversight Areas</th>
                                <th>Related Trades</th>
                                <th>Conflict Risk</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Nancy Pelosi</strong></td>
                                <td>Former Speaker</td>
                                <td>All Legislative Activity</td>
                                <td>NVDA (Tech)</td>
                                <td><span class="score-high">High</span></td>
                            </tr>
                            <tr>
                                <td><strong>Josh Gottheimer</strong></td>
                                <td>Financial Services</td>
                                <td>Banking, Fintech</td>
                                <td>MSFT (Tech)</td>
                                <td><span class="score-medium">Medium</span></td>
                            </tr>
                            <tr>
                                <td><strong>Richard Burr</strong></td>
                                <td>Former Intelligence Chair</td>
                                <td>National Security, Health</td>
                                <td>HCA (Healthcare)</td>
                                <td><span class="score-extreme">Extreme</span></td>
                            </tr>
                            <tr>
                                <td><strong>Dan Crenshaw</strong></td>
                                <td>Energy & Commerce</td>
                                <td>Technology, Healthcare</td>
                                <td>AMZN (Tech)</td>
                                <td><span class="score-high">High</span></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="interpretation">
                        <h4>Committee Conflict Analysis</h4>
                        <p><strong>Extreme Risk:</strong> Richard Burr's healthcare stock sale while having access to classified COVID briefings represents the highest conflict risk.<br>
                        <strong>High Risk:</strong> Speaker-level access to all legislation creates inherent conflicts for any trading activity.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📊</span>Committee Trading Patterns</h3>
                    
                    <div class="chart-container">
                        <canvas id="committeeChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Trading by Committee Type</h4>
                        <p>Analysis of trading patterns based on committee assignments, showing which committees correlate with higher trading activity.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Committee Risk Assessment</h4>
                        <p>Financial Services and Intelligence Committee members show disproportionately high trading activity, suggesting these positions may create more opportunities for conflicts of interest.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Legislation Tab -->
        <div id="legislation" class="tab-content">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">📜</span>Active Legislation & Market Impact</h3>
                    
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Bill</th>
                                <th>Status</th>
                                <th>Affected Stocks</th>
                                <th>Related Trades</th>
                                <th>Risk Level</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>AI Safety Act (H.R. 2847)</strong></td>
                                <td>Committee Markup</td>
                                <td>NVDA, GOOGL, MSFT, META</td>
                                <td>3 trades, $4.2M volume</td>
                                <td><span class="score-high">High</span></td>
                            </tr>
                            <tr>
                                <td><strong>Banking Innovation Act (S. 1523)</strong></td>
                                <td>Senate Banking</td>
                                <td>JPM, BAC, WFC, COIN</td>
                                <td>2 trades, $250K volume</td>
                                <td><span class="score-medium">Medium</span></td>
                            </tr>
                            <tr>
                                <td><strong>Energy Security Act (H.R. 3456)</strong></td>
                                <td>Conference Committee</td>
                                <td>XOM, CVX, COP, TSLA</td>
                                <td>1 trade, $375K volume</td>
                                <td><span class="score-medium">Medium</span></td>
                            </tr>
                            <tr>
                                <td><strong>Healthcare Transparency (S. 892)</strong></td>
                                <td>HELP Committee</td>
                                <td>UNH, ANTM, CVS, PFE</td>
                                <td>1 trade, $50K volume</td>
                                <td><span class="score-low">Low</span></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="interpretation">
                        <h4>Legislative Risk Analysis</h4>
                        <p>The AI Safety Act shows the highest risk due to large trading volumes in affected tech stocks by members with oversight responsibilities. The timing of these trades relative to bill progress raises conflict concerns.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📈</span>Legislation Timeline Impact</h3>
                    
                    <div class="chart-container">
                        <canvas id="legislationTimelineChart"></canvas>
                    </div>
                    
                    <div class="chart-explanation">
                        <h4>Trading Activity Around Legislative Events</h4>
                        <p>This chart shows congressional trading volume in the weeks before and after major legislative events.</p>
                    </div>
                    
                    <div class="interpretation">
                        <h4>Timeline Insights</h4>
                        <p>Trading volume typically increases 2-4 weeks before major legislative votes, suggesting some members may be positioning based on expected outcomes. Post-event trading is typically lower, consistent with information already being public.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Research Tools Tab -->
        <div id="research" class="tab-content">
            <div class="analysis-grid">
                <div class="card">
                    <h3><span class="emoji">📚</span>Statistical Summary</h3>
                    
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Value</th>
                                <th>Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Total Trades</td>
                                <td>15</td>
                                <td>Sample size for current analysis</td>
                            </tr>
                            <tr>
                                <td>Mean Trade Amount</td>
                                <td>$547,833</td>
                                <td>Highly skewed by large trades</td>
                            </tr>
                            <tr>
                                <td>Median Trade Amount</td>
                                <td>$50,000</td>
                                <td>More representative of typical trade</td>
                            </tr>
                            <tr>
                                <td>Filing Delay (Mean)</td>
                                <td>46.1 days</td>
                                <td>Slightly above legal requirement</td>
                            </tr>
                            <tr>
                                <td>Compliance Rate</td>
                                <td>93.3%</td>
                                <td>Most members file on time</td>
                            </tr>
                            <tr>
                                <td>High-Risk Trades</td>
                                <td>20%</td>
                                <td>Require additional scrutiny</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="methodology-box">
                        <h4>Research Methodology</h4>
                        <p>Analysis uses STOCK Act disclosure data, committee assignments, and legislative calendars. Statistical significance tested at p < 0.05. Machine learning models validated using cross-validation with 80/20 train/test splits.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><span class="emoji">📊</span>Export & Analysis Tools</h3>
                    
                    <div style="margin: 1rem 0;">
                        <button onclick="exportData('csv')" style="margin: 0.5rem; padding: 0.75rem 1.5rem; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer;">
                            📊 Export CSV Data
                        </button>
                        <button onclick="exportData('json')" style="margin: 0.5rem; padding: 0.75rem 1.5rem; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer;">
                            📝 Export JSON
                        </button>
                        <button onclick="generateReport()" style="margin: 0.5rem; padding: 0.75rem 1.5rem; background: #f59e0b; color: white; border: none; border-radius: 6px; cursor: pointer;">
                            📄 Generate Report
                        </button>
                    </div>
                    
                    <div class="summary-box">
                        <h4>Citation Information</h4>
                        <ul>
                            <li>Data Source: Congressional STOCK Act Disclosures</li>
                            <li>Analysis Period: 2020-2024</li>
                            <li>Last Updated: February 2025</li>
                            <li>Methodology: Machine Learning + Statistical Analysis</li>
                        </ul>
                    </div>
                    
                    <div style="background: #f8fafc; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <strong>Academic Citation:</strong><br>
                        Congressional Trading Intelligence System. (2025). Comprehensive Analysis of Congressional Trading Patterns. Retrieved from [URL]
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Tab Navigation
        function showTab(tabId) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab and activate button
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
            
            // Initialize charts for the active tab
            setTimeout(() => initializeChartsForTab(tabId), 100);
        }
        
        // Initialize charts based on active tab
        function initializeChartsForTab(tabId) {
            switch(tabId) {
                case 'member-analysis':
                    initializeMemberCharts();
                    break;
                case 'trade-explorer':
                    initializeTradeCharts();
                    break;
                case 'pattern-analysis':
                    initializePatternCharts();
                    break;
                case 'predictions':
                    initializePredictionCharts();
                    break;
                case 'correlations':
                    initializeCorrelationCharts();
                    break;
                case 'committees':
                    initializeCommitteeCharts();
                    break;
                case 'legislation':
                    initializeLegislationCharts();
                    break;
            }
        }
        
        // Member analysis charts
        function initializeMemberCharts() {
            // Member Distribution Chart
            const memberCtx = document.getElementById('memberDistributionChart');
            if (memberCtx && !memberCtx.chart) {
                memberCtx.chart = new Chart(memberCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Low Risk (0-2)', 'Medium Risk (3-5)', 'High Risk (6-8)', 'Extreme Risk (9-10)'],
                        datasets: [{
                            data: [9, 3, 3, 0],
                            backgroundColor: ['#10b981', '#f59e0b', '#ef4444', '#dc2626']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom' }
                        }
                    }
                });
            }
            
            // Compliance Chart
            const complianceCtx = document.getElementById('complianceChart');
            if (complianceCtx && !complianceCtx.chart) {
                complianceCtx.chart = new Chart(complianceCtx, {
                    type: 'bar',
                    data: {
                        labels: ['On Time (<45 days)', 'Late (>45 days)'],
                        datasets: [{
                            label: 'Members',
                            data: [14, 1],
                            backgroundColor: ['#10b981', '#ef4444']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            // Volume by Member Chart
            const volumeCtx = document.getElementById('volumeByMemberChart');
            if (volumeCtx && !volumeCtx.chart) {
                volumeCtx.chart = new Chart(volumeCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Pelosi', 'Burr', 'P.Pelosi', 'Manchin', 'Toomey'],
                        datasets: [{
                            label: 'Trade Volume ($)',
                            data: [3000000, 1174000, 750000, 375000, 175000],
                            backgroundColor: '#3b82f6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + (value / 1000000).toFixed(1) + 'M';
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }
        
        // Trade analysis charts
        function initializeTradeCharts() {
            // Trade Analysis Scatter Plot
            const tradeCtx = document.getElementById('tradeAnalysisChart');
            if (tradeCtx && !tradeCtx.chart) {
                tradeCtx.chart = new Chart(tradeCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Congressional Trades',
                            data: [
                                {x: 36, y: 3000000}, {x: 179, y: 32500}, {x: 35, y: 1174000},
                                {x: 24, y: 750000}, {x: 44, y: 75000}, {x: 22, y: 32500},
                                {x: 40, y: 175000}, {x: 38, y: 112500}, {x: 45, y: 375000}
                            ],
                            backgroundColor: function(context) {
                                const value = context.parsed.y;
                                return value > 500000 ? '#ef4444' : value > 100000 ? '#f59e0b' : '#10b981';
                            },
                            pointRadius: function(context) {
                                const value = context.parsed.y;
                                return value > 1000000 ? 12 : value > 100000 ? 8 : 6;
                            }
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { 
                                title: { display: true, text: 'Filing Delay (days)' },
                                grid: { display: true }
                            },
                            y: { 
                                title: { display: true, text: 'Trade Amount ($)' },
                                type: 'logarithmic',
                                ticks: {
                                    callback: function(value) {
                                        return '$' + (value / 1000).toFixed(0) + 'K';
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            // Stock Analysis Chart
            const stockCtx = document.getElementById('stockAnalysisChart');
            if (stockCtx && !stockCtx.chart) {
                stockCtx.chart = new Chart(stockCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Technology', 'Financial', 'Healthcare', 'Energy', 'Other'],
                        datasets: [{
                            data: [7, 3, 2, 2, 1],
                            backgroundColor: ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
        }
        
        // Pattern analysis charts
        function initializePatternCharts() {
            // Pattern Recognition Chart
            const patternCtx = document.getElementById('patternChart');
            if (patternCtx && !patternCtx.chart) {
                patternCtx.chart = new Chart(patternCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Sector Rotation', 'Volume Spikes', 'Timing Anomalies', 'Filing Delays'],
                        datasets: [{
                            label: 'Pattern Count',
                            data: [8, 12, 6, 15],
                            backgroundColor: ['#3b82f6', '#ef4444', '#f59e0b', '#10b981']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            // Cluster Chart
            const clusterCtx = document.getElementById('clusterChart');
            if (clusterCtx && !clusterCtx.chart) {
                clusterCtx.chart = new Chart(clusterCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'High Risk',
                            data: [{x: 8.2, y: 2.1}, {x: 7.8, y: 1.9}, {x: 8.5, y: 2.3}],
                            backgroundColor: '#ef4444'
                        }, {
                            label: 'Moderate Risk',
                            data: [{x: 4.1, y: 1.2}, {x: 3.8, y: 1.1}, {x: 4.3, y: 1.3}],
                            backgroundColor: '#3b82f6'
                        }, {
                            label: 'Low Risk',
                            data: [{x: 1.2, y: 0.3}, {x: 1.5, y: 0.4}, {x: 1.1, y: 0.2}],
                            backgroundColor: '#10b981'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: { title: { display: true, text: 'Trading Activity Score' } },
                            y: { title: { display: true, text: 'Risk Score' } }
                        }
                    }
                });
            }
            
            // Anomaly Chart
            const anomalyCtx = document.getElementById('anomalyChart');
            if (anomalyCtx && !anomalyCtx.chart) {
                anomalyCtx.chart = new Chart(anomalyCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Pelosi', 'Burr', 'Manchin', 'Toomey', 'Brown'],
                        datasets: [{
                            label: 'Z-Score',
                            data: [4.2, 3.1, 2.7, 2.9, 2.6],
                            backgroundColor: function(context) {
                                const value = context.parsed.y;
                                return value > 4 ? '#dc2626' : value > 3 ? '#ef4444' : '#f59e0b';
                            }
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            // Timing Chart
            const timingCtx = document.getElementById('timingChart');
            if (timingCtx && !timingCtx.chart) {
                timingCtx.chart = new Chart(timingCtx, {
                    type: 'line',
                    data: {
                        labels: ['-30d', '-15d', '-5d', 'Event', '+5d', '+15d'],
                        datasets: [{
                            label: 'Trading Volume ($M)',
                            data: [2.1, 3.8, 5.2, 1.0, 0.8, 1.2],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
        }
        
        // Prediction charts
        function initializePredictionCharts() {
            // Prediction Chart
            const predictionCtx = document.getElementById('predictionChart');
            if (predictionCtx && !predictionCtx.chart) {
                predictionCtx.chart = new Chart(predictionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Pelosi', 'Gottheimer', 'Crenshaw', 'Warner', 'AOC'],
                        datasets: [{
                            label: 'Trade Probability (%)',
                            data: [89, 67, 52, 41, 23],
                            backgroundColor: function(context) {
                                const value = context.parsed.y;
                                return value > 70 ? '#ef4444' : value > 50 ? '#f59e0b' : '#10b981';
                            }
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            // Impact Chart
            const impactCtx = document.getElementById('impactChart');
            if (impactCtx && !impactCtx.chart) {
                impactCtx.chart = new Chart(impactCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Pelosi', 'Burr', 'P.Pelosi', 'Gottheimer', 'Manchin'],
                        datasets: [{
                            label: 'Predicted Impact (%)',
                            data: [8.7, 4.2, 6.1, 2.8, 3.4],
                            backgroundColor: '#3b82f6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
            
            // Legislation Chart
            const legislationCtx = document.getElementById('legislationChart');
            if (legislationCtx && !legislationCtx.chart) {
                legislationCtx.chart = new Chart(legislationCtx, {
                    type: 'radar',
                    data: {
                        labels: ['AI Safety', 'Banking Innovation', 'Energy Security', 'Healthcare'],
                        datasets: [{
                            label: 'Outcome Confidence',
                            data: [89, 67, 75, 82],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }
        }
        
        // Correlation charts
        function initializeCorrelationCharts() {
            // Timeline Chart
            const timelineCtx = document.getElementById('timelineChart');
            if (timelineCtx && !timelineCtx.chart) {
                timelineCtx.chart = new Chart(timelineCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan 2020', 'Mar 2020', 'Nov 2020', 'Jun 2022', 'Nov 2023', 'Jan 2024'],
                        datasets: [{
                            label: 'Trading Volume ($M)',
                            data: [1.2, 8.7, 3.4, 2.1, 4.6, 2.8],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true
                        }, {
                            label: 'Market Events',
                            data: [null, 10, null, 6, 8, null],
                            borderColor: '#ef4444',
                            backgroundColor: '#ef4444',
                            pointRadius: 8,
                            showLine: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // Correlation Strength Chart
            const corrStrengthCtx = document.getElementById('correlationStrengthChart');
            if (corrStrengthCtx && !corrStrengthCtx.chart) {
                corrStrengthCtx.chart = new Chart(corrStrengthCtx, {
                    type: 'bar',
                    data: {
                        labels: ['COVID-19', 'AI Executive Order', 'Fed Rate Hike', 'CHIPS Act', 'Vaccine News'],
                        datasets: [{
                            label: 'Correlation Score',
                            data: [8.7, 6.2, 4.8, 5.9, 3.2],
                            backgroundColor: function(context) {
                                const value = context.parsed.y;
                                return value > 7 ? '#dc2626' : value > 5 ? '#ef4444' : '#f59e0b';
                            }
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
        }
        
        // Committee charts
        function initializeCommitteeCharts() {
            const committeeCtx = document.getElementById('committeeChart');
            if (committeeCtx && !committeeCtx.chart) {
                committeeCtx.chart = new Chart(committeeCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Financial Services', 'Intelligence', 'Energy & Commerce', 'Health Committee', 'Other'],
                        datasets: [{
                            label: 'Avg Trade Volume ($K)',
                            data: [1200, 900, 350, 200, 150],
                            backgroundColor: '#3b82f6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
        }
        
        // Legislation charts
        function initializeLegislationCharts() {
            const legTimelineCtx = document.getElementById('legislationTimelineChart');
            if (legTimelineCtx && !legTimelineCtx.chart) {
                legTimelineCtx.chart = new Chart(legTimelineCtx, {
                    type: 'line',
                    data: {
                        labels: ['-4w', '-3w', '-2w', '-1w', 'Vote', '+1w', '+2w'],
                        datasets: [{
                            label: 'Trading Volume',
                            data: [1.2, 1.8, 3.2, 4.1, 2.8, 1.5, 1.1],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
        }
        
        // Export functions
        function exportData(format) {
            alert(`${format.toUpperCase()} export functionality would be implemented here`);
        }
        
        function generateReport() {
            alert('Report generation functionality would be implemented here');
        }
        
        // Initialize default charts on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeMemberCharts();
        });
    </script>
</body>
</html>