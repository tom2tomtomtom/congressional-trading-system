[build]
builder = "nixpacks"

[deploy]
startCommand = "gunicorn --bind 0.0.0.0:$PORT app:app"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[[services]]
name = "congressional-trading-intelligence"

[services.variables]
FLASK_ENV = "production"
PYTHONPATH = "/app"

# Health check endpoint
[services.healthcheck]
path = "/health"
timeout = 300